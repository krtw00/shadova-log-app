# モバイルUI設計

このドキュメントは、Shadova Log App のモバイル対応に関する設計メモです。

---

## 概要

スマートフォンでの利用を想定したUI最適化。ゲーム直後に素早く対戦結果を記録できることを重視。

### 設計方針

- **モバイルファースト**: 小さい画面から設計し、PC版に拡張
- **ワンハンド操作**: 片手で主要操作が完結
- **最小タップ数**: 対戦記録は3-4タップで完了を目指す

---

## 画面設計

### 1. 対戦記録画面（メイン）

最も使用頻度が高い画面。記録入力と履歴確認を効率よく行う。

```
┌─────────────────────────────┐
│ ≡  Shadova Log        (+)  │  ヘッダー: ハンバーガー + FAB
├─────────────────────────────┤
│ [RANK][FREE][ROOM][GP][2P] │  ゲームモードタブ（横スクロール）
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │  今日  8勝 - 3敗        │ │  統計サマリー（コンパクト）
│ │  72.7%    3連勝中       │ │
│ └─────────────────────────┘ │
├─────────────────────────────┤
│                             │
│ ┌─────────────────────────┐ │
│ │ ● 勝利  先攻   14:30    │ │  対戦カード
│ │ エルフアグロ             │ │  - 左スワイプ: 削除
│ │ vs ロイヤル              │ │  - タップ: 詳細/編集
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │ ○ 敗北  後攻   14:25    │ │
│ │ エルフアグロ             │ │
│ │ vs ウィッチ              │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │ ● 勝利  先攻   14:20    │ │
│ │ エルフアグロ             │ │
│ │ vs ドラゴン              │ │
│ └─────────────────────────┘ │
│                             │
│           ...               │
│                             │
└─────────────────────────────┘
        ↑ 無限スクロール
```

**ポイント:**
- FABボタン（+）で記録モーダルを開く
- 統計は1行に収めてスクロール領域を確保
- カード形式で視認性向上、スワイプ操作対応

---

### 2. クイック記録モーダル

FABタップで表示。最小限の入力で記録完了。

```
┌─────────────────────────────┐
│         対戦を記録      ✕  │
├─────────────────────────────┤
│                             │
│ デッキ                      │
│ ┌─────────────────────────┐ │
│ │ エルフアグロ          ▼ │ │  ドロップダウン
│ └─────────────────────────┘ │
│                             │
│ 相手クラス                  │
│ ┌───┬───┬───┬───┬───┬───┬───┐ │
│ │ エ │ ロ │ ウ │ ド │ ナ │ ビ │ ネ │ │  アイコングリッド
│ └───┴───┴───┴───┴───┴───┴───┘ │  （選択中はハイライト）
│                             │
│ 結果                        │
│ ┌───────────┐ ┌───────────┐ │
│ │   勝利    │ │   敗北    │ │  大きなトグルボタン
│ │    ●     │ │    ○     │ │
│ └───────────┘ └───────────┘ │
│                             │
│ 先後                        │
│ ┌───────────┐ ┌───────────┐ │
│ │   先攻    │ │   後攻    │ │
│ └───────────┘ └───────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │        記録する          │ │  プライマリボタン
│ └─────────────────────────┘ │
│                             │
│ [ランク ▼] [メモを追加]    │  オプション（折りたたみ可）
│                             │
└─────────────────────────────┘
```

**ポイント:**
- クラス選択はアイコンタップ（ドロップダウンより速い）
- 勝敗・先後は大きなボタンで押しやすく
- ランク・メモは折りたたみで普段は非表示

---

### 3. ナビゲーション

#### パターンA: ハンバーガーメニュー

```
┌─────────────────────────────┐
│ ┌─────────────────────────┐ │
│ │  プロフィール画像       │ │
│ │  username               │ │
│ └─────────────────────────┘ │
├─────────────────────────────┤
│  📊 対戦記録               │ ← 現在地ハイライト
│  📈 統計                   │
│  ⚙️ 設定                   │
│  🎬 配信者モード           │
├─────────────────────────────┤
│  🚪 ログアウト             │
└─────────────────────────────┘
```

#### パターンB: ボトムナビゲーション（推奨）

```
┌─────────────────────────────┐
│                             │
│         メイン画面          │
│                             │
├─────────────────────────────┤
│  📊      📈      🎬     ⚙️  │
│ 対戦    統計   配信   設定  │
└─────────────────────────────┘
```

**推奨: ボトムナビゲーション**
- 主要4画面に素早くアクセス
- 親指で届く位置

---

### 4. 統計画面

```
┌─────────────────────────────┐
│ ←  統計                     │
├─────────────────────────────┤
│ [今日][週間][月間][全期間]  │  期間タブ
├─────────────────────────────┤
│                             │
│ ┌─────────────────────────┐ │
│ │ 総合成績                 │ │
│ │ 156勝 - 89敗  (63.7%)   │ │
│ │ 最高連勝: 12             │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │ 先後別                   │ │
│ │ 先攻: 65.2%  後攻: 61.8% │ │
│ └─────────────────────────┘ │
│                             │
│ ▼ デッキ別統計              │  アコーディオン
│ ┌─────────────────────────┐ │
│ │ エルフアグロ   68.5%    │ │
│ │ ████████████░░░ 50戦   │ │
│ ├─────────────────────────┤ │
│ │ ロイヤルミッド  61.2%   │ │
│ │ ██████████░░░░░ 30戦   │ │
│ └─────────────────────────┘ │
│                             │
│ ▼ 相性表                    │  アコーディオン
│ ┌─────────────────────────┐ │
│ │ 自分: [エルフ ▼]        │ │  フィルタで1行ずつ表示
│ ├─────────────────────────┤ │
│ │ vs エルフ     - (0戦)   │ │
│ │ vs ロイヤル  55% (20戦) │ │
│ │ vs ウィッチ  48% (15戦) │ │
│ │ vs ドラゴン  72% (18戦) │ │
│ │ ...                     │ │
│ └─────────────────────────┘ │
│                             │
└─────────────────────────────┘
```

**ポイント:**
- 7x7の相性表はモバイルでは見づらいため、フィルタ形式に変更
- アコーディオンで情報を整理

---

### 5. 設定画面

```
┌─────────────────────────────┐
│ ←  設定                     │
├─────────────────────────────┤
│                             │
│ プロフィール                │
│ ┌─────────────────────────┐ │
│ │ ユーザー名      player1 │ │
│ │ メール    xxx@example.c │ │
│ └─────────────────────────┘ │
│                             │
│ 表示設定                    │
│ ┌─────────────────────────┐ │
│ │ テーマ         [ダーク] │ │
│ │ 表示件数          [20] │ │
│ └─────────────────────────┘ │
│                             │
│ 共有                        │
│ ┌─────────────────────────┐ │
│ │ 公開プロフィール    [>] │ │
│ └─────────────────────────┘ │
│                             │
│ データ管理                  │
│ ┌─────────────────────────┐ │
│ │ データエクスポート  [>] │ │
│ │ データ削除          [>] │ │
│ └─────────────────────────┘ │
│                             │
│ アカウント                  │
│ ┌─────────────────────────┐ │
│ │ パスワード変更      [>] │ │
│ │ アカウント削除      [>] │ │
│ └─────────────────────────┘ │
│                             │
└─────────────────────────────┘
```

---

## コンポーネント設計

### タップターゲット

- 最小サイズ: 44x44px（iOS HIG準拠）
- ボタン間隔: 8px以上

### カラー

既存のダークテーマを継承:
- 背景: `#1f2937` (gray-800)
- カード背景: `#374151` (gray-700)
- テキスト: `#ffffff`
- アクセント: `#3b82f6` (blue-500)
- 勝利: `#22c55e` (green-500)
- 敗北: `#ef4444` (red-500)

### アイコン

クラスアイコン（タップ領域として使用）:
- サイズ: 40x40px
- 選択時: ボーダー + 背景色変更

---

## 実装方針

### Tailwind CSSブレークポイント

```css
/* モバイル（デフォルト） */
.container { ... }

/* タブレット (md: 768px) */
@screen md { ... }

/* デスクトップ (lg: 1024px) */
@screen lg { ... }
```

### 実装優先順位

| 優先度 | 画面/機能 | 理由 |
|--------|----------|------|
| 1 | 対戦記録画面 | 最も使用頻度が高い |
| 2 | クイック記録モーダル | コア機能 |
| 3 | ボトムナビゲーション | 全画面の操作性向上 |
| 4 | 統計画面 | 情報量が多く調整が必要 |
| 5 | 設定画面 | 比較的シンプル |

### 段階的アプローチ

1. **Phase 1**: 対戦記録画面のレスポンシブ化
   - カード形式の履歴表示
   - FAB + モーダル形式の記録フォーム
   - 統計サマリーのコンパクト化

2. **Phase 2**: ナビゲーション
   - ボトムナビゲーション実装
   - ヘッダーの調整

3. **Phase 3**: 統計画面
   - 相性表のフィルタ形式化
   - アコーディオンUI

4. **Phase 4**: 設定・配信者モード
   - リスト形式の設定画面
   - オーバーレイ設定のモバイル対応

---

## 参考

- [Apple Human Interface Guidelines - Mobile](https://developer.apple.com/design/human-interface-guidelines/)
- [Material Design 3](https://m3.material.io/)
- Tailwind CSS: `sm:`, `md:`, `lg:` プレフィックスで対応

---

## 更新履歴

| 日付 | 内容 |
|------|------|
| 2026-01-14 | 初版作成 |
